{
  "version": 3,
  "sources": ["src/extension.ts", "src/cli/runner.ts", "src/constants.ts", "src/output.ts", "src/commands/flows.ts", "src/commands/handlers.ts", "src/commands/registry.ts", "src/config.ts", "src/worktrees/provider.ts", "src/worktrees/service.ts", "src/worktrees/store.ts"],
  "sourcesContent": [
    "import * as vscode from \"vscode\";\nimport { runArashiCommand } from \"./cli/runner\";\nimport { createCommandHandlers, type Notifications } from \"./commands/handlers\";\nimport { registerCommandHandlers } from \"./commands/registry\";\nimport {\n  COMMAND_IDS,\n  EXTENSION_SETTINGS_SECTION,\n  OUTPUT_CHANNEL_NAME,\n  WORKTREE_VIEW_ID,\n} from \"./constants\";\nimport { resolveExtensionConfig, validateStartup, type WorkspaceFolderLike } from \"./config\";\nimport { logDiagnostic } from \"./output\";\nimport { WorktreeTreeDataProvider } from \"./worktrees/provider\";\nimport { WorktreeService } from \"./worktrees/service\";\nimport { WorktreeStore } from \"./worktrees/store\";\n\nfunction createNotificationsAdapter(): Notifications {\n  return {\n    input: async (prompt) =>\n      vscode.window.showInputBox({\n        title: prompt.title,\n        prompt: prompt.prompt,\n        value: prompt.value,\n        placeHolder: prompt.placeHolder,\n        ignoreFocusOut: true,\n      }),\n    pick: async (items, prompt) =>\n      vscode.window.showQuickPick(items, {\n        title: prompt.title,\n        placeHolder: prompt.placeHolder,\n        ignoreFocusOut: true,\n      }),\n    confirm: async (prompt) => {\n      const result = await vscode.window.showWarningMessage(\n        prompt.message,\n        {\n          modal: true,\n          detail: prompt.detail,\n        },\n        \"Continue\",\n      );\n      return result === \"Continue\";\n    },\n    info: (message) => vscode.window.showInformationMessage(message).then(() => undefined),\n    warn: (message) => vscode.window.showWarningMessage(message).then(() => undefined),\n    error: (message) => vscode.window.showErrorMessage(message).then(() => undefined),\n    success: (message) => vscode.window.showInformationMessage(message).then(() => undefined),\n  };\n}\n\nfunction workspaceFoldersAsLike(\n  folders: readonly vscode.WorkspaceFolder[] | undefined,\n): readonly WorkspaceFolderLike[] | undefined {\n  if (!folders) {\n    return undefined;\n  }\n\n  return folders.map((folder) => ({\n    uri: {\n      fsPath: folder.uri.fsPath,\n    },\n  }));\n}\n\nexport async function activate(context: vscode.ExtensionContext): Promise<void> {\n  const output = vscode.window.createOutputChannel(OUTPUT_CHANNEL_NAME);\n  context.subscriptions.push(output);\n\n  const getConfig = () =>\n    resolveExtensionConfig(\n      vscode.workspace.getConfiguration(EXTENSION_SETTINGS_SECTION),\n      workspaceFoldersAsLike(vscode.workspace.workspaceFolders),\n    );\n\n  const worktreeService = new WorktreeService((request) => runArashiCommand(request));\n  const worktreeStore = new WorktreeStore(worktreeService);\n  const treeProvider = new WorktreeTreeDataProvider(worktreeStore);\n\n  const treeView = vscode.window.createTreeView(WORKTREE_VIEW_ID, {\n    treeDataProvider: treeProvider,\n    showCollapseAll: false,\n  });\n  context.subscriptions.push(treeView);\n\n  const notifications = createNotificationsAdapter();\n  const handlers = createCommandHandlers({\n    getConfig,\n    execute: (request) => runArashiCommand(request),\n    notifications,\n    output,\n    worktreeStore,\n  });\n  const registrations = registerCommandHandlers(vscode.commands, handlers);\n  context.subscriptions.push(...registrations);\n\n  const startup = await validateStartup(getConfig(), (request) => runArashiCommand(request));\n  if (!startup.ok && startup.error) {\n    await vscode.window.showErrorMessage(startup.error);\n    logDiagnostic(output, \"[startup-error]\", startup.error);\n  }\n\n  for (const warning of startup.warnings) {\n    await vscode.window.showWarningMessage(warning, \"Run Arashi Init\").then((choice) => {\n      if (choice === \"Run Arashi Init\") {\n        void vscode.commands.executeCommand(COMMAND_IDS.init);\n      }\n    });\n    logDiagnostic(output, \"[startup-warning]\", warning);\n  }\n\n  await treeProvider.refresh(getConfig());\n\n  const configSubscription = vscode.workspace.onDidChangeConfiguration((event) => {\n    if (event.affectsConfiguration(EXTENSION_SETTINGS_SECTION)) {\n      void treeProvider.refresh(getConfig());\n    }\n  });\n  context.subscriptions.push(configSubscription);\n}\n\nexport function deactivate(): void {}\n",
    "import { spawn } from \"node:child_process\";\n\nexport type CommandFailureReason = \"spawn_error\" | \"exit_code\" | \"cancelled\" | \"timeout\";\n\nexport interface CommandInvocationRequest {\n  binaryPath: string;\n  command: string;\n  args?: string[];\n  cwd: string;\n  timeoutMs: number;\n  enforceJson?: boolean;\n  signal?: AbortSignal;\n}\n\nexport interface CommandInvocation extends CommandInvocationRequest {\n  args: string[];\n  builtArgs: string[];\n}\n\nexport interface CommandSuccess {\n  ok: true;\n  commandLine: string;\n  stdout: string;\n  stderr: string;\n  exitCode: 0;\n  durationMs: number;\n}\n\nexport interface CommandFailure {\n  ok: false;\n  commandLine: string;\n  stdout: string;\n  stderr: string;\n  exitCode: number | null;\n  durationMs: number;\n  reason: CommandFailureReason;\n  errorCode?: string;\n  errorMessage?: string;\n}\n\nexport type CommandResult = CommandSuccess | CommandFailure;\n\nexport interface JsonParseSuccess<T> {\n  ok: true;\n  data: T;\n}\n\nexport interface JsonParseFailure {\n  ok: false;\n  kind: \"parse_error\";\n  message: string;\n  rawOutput: string;\n}\n\nexport type JsonParseResult<T> = JsonParseSuccess<T> | JsonParseFailure;\n\ninterface SpawnedProcess {\n  stdout: NodeJS.ReadableStream | null;\n  stderr: NodeJS.ReadableStream | null;\n  on(event: \"error\", listener: (error: Error & { code?: string }) => void): this;\n  on(event: \"close\", listener: (code: number | null, signal: NodeJS.Signals | null) => void): this;\n  kill(signal?: NodeJS.Signals): boolean;\n}\n\ntype SpawnFunction = (\n  command: string,\n  args: string[],\n  options: {\n    cwd: string;\n    env: NodeJS.ProcessEnv;\n    stdio: [\"ignore\", \"pipe\", \"pipe\"];\n  },\n) => SpawnedProcess;\n\nexport interface CommandExecutorDependencies {\n  spawnFn?: SpawnFunction;\n  now?: () => number;\n}\n\nexport type CommandExecutor = (request: CommandInvocationRequest) => Promise<CommandResult>;\n\nexport function ensureJsonFlag(args: string[]): string[] {\n  if (args.includes(\"--json\") || args.includes(\"-j\")) {\n    return [...args];\n  }\n  return [...args, \"--json\"];\n}\n\nexport function buildCommandArgs(command: string, args: string[], enforceJson: boolean): string[] {\n  const normalized = enforceJson ? ensureJsonFlag(args) : [...args];\n  return [command, ...normalized];\n}\n\nexport function createCommandInvocation(request: CommandInvocationRequest): CommandInvocation {\n  const args = request.args ? [...request.args] : [];\n  const builtArgs = buildCommandArgs(request.command, args, request.enforceJson === true);\n  return {\n    ...request,\n    args,\n    builtArgs,\n  };\n}\n\nexport async function runArashiCommand(\n  request: CommandInvocationRequest,\n  deps: CommandExecutorDependencies = {},\n): Promise<CommandResult> {\n  const spawnFn = deps.spawnFn ?? spawn;\n  const now = deps.now ?? Date.now;\n  const invocation = createCommandInvocation(request);\n  const commandLine = [invocation.binaryPath, ...invocation.builtArgs].join(\" \");\n  const startedAt = now();\n\n  if (invocation.signal?.aborted) {\n    return {\n      ok: false,\n      commandLine,\n      stdout: \"\",\n      stderr: \"\",\n      exitCode: null,\n      durationMs: now() - startedAt,\n      reason: \"cancelled\",\n      errorMessage: \"Command cancelled before execution.\",\n    };\n  }\n\n  return new Promise<CommandResult>((resolve) => {\n    let settled = false;\n    let timedOut = false;\n    let cancelled = false;\n    const stdoutChunks: Buffer[] = [];\n    const stderrChunks: Buffer[] = [];\n\n    const settle = (result: CommandResult): void => {\n      if (settled) {\n        return;\n      }\n      settled = true;\n      resolve(result);\n    };\n\n    const child = spawnFn(invocation.binaryPath, invocation.builtArgs, {\n      cwd: invocation.cwd,\n      env: process.env,\n      stdio: [\"ignore\", \"pipe\", \"pipe\"],\n    });\n\n    const timeout = setTimeout(() => {\n      timedOut = true;\n      child.kill(\"SIGTERM\");\n    }, invocation.timeoutMs);\n\n    const onAbort = (): void => {\n      cancelled = true;\n      child.kill(\"SIGTERM\");\n    };\n\n    invocation.signal?.addEventListener(\"abort\", onAbort, { once: true });\n\n    child.stdout?.on(\"data\", (chunk: string | Buffer) => {\n      stdoutChunks.push(Buffer.from(chunk));\n    });\n\n    child.stderr?.on(\"data\", (chunk: string | Buffer) => {\n      stderrChunks.push(Buffer.from(chunk));\n    });\n\n    child.on(\"error\", (error: Error & { code?: string }) => {\n      clearTimeout(timeout);\n      invocation.signal?.removeEventListener(\"abort\", onAbort);\n      settle({\n        ok: false,\n        commandLine,\n        stdout: Buffer.concat(stdoutChunks).toString(\"utf8\"),\n        stderr: Buffer.concat(stderrChunks).toString(\"utf8\"),\n        exitCode: null,\n        durationMs: now() - startedAt,\n        reason: \"spawn_error\",\n        errorCode: error.code,\n        errorMessage: error.message,\n      });\n    });\n\n    child.on(\"close\", (exitCode) => {\n      clearTimeout(timeout);\n      invocation.signal?.removeEventListener(\"abort\", onAbort);\n\n      const stdout = Buffer.concat(stdoutChunks).toString(\"utf8\");\n      const stderr = Buffer.concat(stderrChunks).toString(\"utf8\");\n      const durationMs = now() - startedAt;\n\n      if (timedOut) {\n        settle({\n          ok: false,\n          commandLine,\n          stdout,\n          stderr,\n          exitCode,\n          durationMs,\n          reason: \"timeout\",\n          errorMessage: `Command timed out after ${invocation.timeoutMs}ms.`,\n        });\n        return;\n      }\n\n      if (cancelled) {\n        settle({\n          ok: false,\n          commandLine,\n          stdout,\n          stderr,\n          exitCode,\n          durationMs,\n          reason: \"cancelled\",\n          errorMessage: \"Command cancelled.\",\n        });\n        return;\n      }\n\n      if (exitCode === 0) {\n        settle({\n          ok: true,\n          commandLine,\n          stdout,\n          stderr,\n          exitCode: 0,\n          durationMs,\n        });\n        return;\n      }\n\n      settle({\n        ok: false,\n        commandLine,\n        stdout,\n        stderr,\n        exitCode,\n        durationMs,\n        reason: \"exit_code\",\n      });\n    });\n  });\n}\n\nfunction firstMeaningfulLine(value: string): string {\n  const line = value\n    .split(/\\r?\\n/)\n    .map((entry) => entry.trim())\n    .find((entry) => entry.length > 0);\n  return line ?? \"\";\n}\n\nexport function normalizeCommandFailure(failure: CommandFailure): {\n  title: string;\n  message: string;\n  detail?: string;\n} {\n  if (failure.reason === \"spawn_error\" && failure.errorCode === \"ENOENT\") {\n    return {\n      title: \"Arashi binary not found\",\n      message:\n        \"The configured Arashi CLI path could not be executed. Update arashi.binaryPath in settings.\",\n      detail: failure.commandLine,\n    };\n  }\n\n  if (failure.reason === \"timeout\") {\n    return {\n      title: \"Arashi command timed out\",\n      message: failure.errorMessage ?? \"The command exceeded the configured timeout.\",\n      detail: failure.commandLine,\n    };\n  }\n\n  if (failure.reason === \"cancelled\") {\n    return {\n      title: \"Arashi command cancelled\",\n      message: \"The command was cancelled before completion.\",\n      detail: failure.commandLine,\n    };\n  }\n\n  const stderrLine = firstMeaningfulLine(failure.stderr);\n  const stdoutLine = firstMeaningfulLine(failure.stdout);\n  const message = stderrLine || stdoutLine || \"The command exited with a non-zero status.\";\n\n  return {\n    title: \"Arashi command failed\",\n    message,\n    detail: failure.commandLine,\n  };\n}\n\nexport function parseJsonOutput<T>(stdout: string): JsonParseResult<T> {\n  const trimmed = stdout.trim();\n  if (trimmed.length === 0) {\n    return {\n      ok: false,\n      kind: \"parse_error\",\n      message: \"Command returned empty output when JSON was expected.\",\n      rawOutput: stdout,\n    };\n  }\n\n  try {\n    const data = JSON.parse(trimmed) as T;\n    return {\n      ok: true,\n      data,\n    };\n  } catch (error) {\n    return {\n      ok: false,\n      kind: \"parse_error\",\n      message: `Failed to parse JSON output: ${(error as Error).message}`,\n      rawOutput: stdout,\n    };\n  }\n}\n",
    "export const EXTENSION_SETTINGS_SECTION = \"arashi\";\nexport const WORKTREE_VIEW_ID = \"arashi.worktrees\";\nexport const OUTPUT_CHANNEL_NAME = \"Arashi\";\n\nexport const COMMAND_IDS = {\n  init: \"arashi.init\",\n  add: \"arashi.add\",\n  create: \"arashi.create\",\n  switch: \"arashi.switch\",\n  remove: \"arashi.remove\",\n  panelRefresh: \"arashi.worktrees.refresh\",\n  panelSwitch: \"arashi.worktrees.switch\",\n  panelRemove: \"arashi.worktrees.remove\",\n  panelAddRepo: \"arashi.worktrees.addRepo\",\n} as const;\n\nexport type ArashiCommandId = (typeof COMMAND_IDS)[keyof typeof COMMAND_IDS];\n",
    "import type { CommandInvocation, CommandResult } from \"./cli/runner\";\n\nexport interface OutputSink {\n  appendLine(value: string): void;\n  show?(preserveFocus?: boolean): void;\n}\n\nfunction timestamp(): string {\n  return new Date().toISOString();\n}\n\nexport function logCommandInvocation(output: OutputSink, invocation: CommandInvocation): void {\n  const args = invocation.builtArgs.join(\" \");\n  output.appendLine(`[${timestamp()}] $ ${invocation.binaryPath} ${args}`);\n  output.appendLine(`[${timestamp()}] cwd: ${invocation.cwd}`);\n}\n\nexport function logCommandResult(output: OutputSink, result: CommandResult): void {\n  if (result.ok) {\n    output.appendLine(\n      `[${timestamp()}] exit=0 duration=${result.durationMs}ms stdout=${result.stdout.length}B stderr=${result.stderr.length}B`,\n    );\n    if (result.stdout.trim()) {\n      output.appendLine(\"[stdout]\");\n      output.appendLine(result.stdout.trim());\n    }\n    if (result.stderr.trim()) {\n      output.appendLine(\"[stderr]\");\n      output.appendLine(result.stderr.trim());\n    }\n    return;\n  }\n\n  output.appendLine(\n    `[${timestamp()}] failure reason=${result.reason} exit=${result.exitCode ?? \"n/a\"} duration=${result.durationMs}ms`,\n  );\n  if (result.stdout.trim()) {\n    output.appendLine(\"[stdout]\");\n    output.appendLine(result.stdout.trim());\n  }\n  if (result.stderr.trim()) {\n    output.appendLine(\"[stderr]\");\n    output.appendLine(result.stderr.trim());\n  }\n  if (result.errorMessage) {\n    output.appendLine(`[error] ${result.errorMessage}`);\n  }\n}\n\nexport function logDiagnostic(output: OutputSink, label: string, details: string): void {\n  output.appendLine(`[${timestamp()}] ${label}`);\n  output.appendLine(details);\n}\n",
    "export interface PromptValueResult {\n  cancelled: boolean;\n  value?: string;\n}\n\nexport function resolveRequiredPromptValue(value: string | undefined): PromptValueResult {\n  if (value === undefined) {\n    return { cancelled: true };\n  }\n\n  const trimmed = value.trim();\n  if (!trimmed) {\n    return { cancelled: true };\n  }\n\n  return {\n    cancelled: false,\n    value: trimmed,\n  };\n}\n\nexport function buildInitArgs(input: { reposDir?: string; skipDiscovery: boolean }): string[] {\n  const args: string[] = [];\n  const reposDir = input.reposDir?.trim();\n  if (reposDir) {\n    args.push(\"--repos-dir\", reposDir);\n  }\n  if (input.skipDiscovery) {\n    args.push(\"--no-discover\");\n  }\n  return args;\n}\n\nexport function buildAddArgs(input: { gitUrl: string; name?: string }): string[] {\n  const args = [input.gitUrl];\n  const name = input.name?.trim();\n  if (name) {\n    args.push(\"--name\", name);\n  }\n  return args;\n}\n\nexport function buildCreateArgs(branch: string): string[] {\n  return [branch.trim()];\n}\n\nexport function buildSwitchArgs(target: string): string[] {\n  return [target.trim()];\n}\n\nexport function buildRemoveArgs(input: { target: string; pathMode: boolean }): string[] {\n  const args = [input.target.trim()];\n  if (input.pathMode) {\n    args.push(\"--path\");\n  }\n  return args;\n}\n",
    "import {\n  createCommandInvocation,\n  normalizeCommandFailure,\n  parseJsonOutput,\n  type CommandExecutor,\n  type CommandFailure,\n  type CommandResult,\n} from \"../cli/runner\";\nimport { COMMAND_IDS } from \"../constants\";\nimport type { ResolvedExtensionConfig } from \"../config\";\nimport { logCommandInvocation, logCommandResult, logDiagnostic, type OutputSink } from \"../output\";\nimport type { ArashiWorktree, WorktreeRefreshResult } from \"../worktrees/types\";\nimport {\n  buildAddArgs,\n  buildCreateArgs,\n  buildInitArgs,\n  buildRemoveArgs,\n  buildSwitchArgs,\n  resolveRequiredPromptValue,\n} from \"./flows\";\nimport type { HandlerMap } from \"./registry\";\n\ninterface PickItem<T> {\n  label: string;\n  description?: string;\n  detail?: string;\n  value: T;\n}\n\ninterface InputPrompt {\n  title: string;\n  prompt: string;\n  value?: string;\n  placeHolder?: string;\n}\n\ninterface PickPrompt {\n  title: string;\n  placeHolder: string;\n}\n\ninterface ConfirmPrompt {\n  title: string;\n  message: string;\n  detail?: string;\n}\n\nexport interface Notifications {\n  input(prompt: InputPrompt): Promise<string | undefined>;\n  pick<T>(items: PickItem<T>[], prompt: PickPrompt): Promise<PickItem<T> | undefined>;\n  confirm(prompt: ConfirmPrompt): Promise<boolean | undefined>;\n  info(message: string): PromiseLike<void> | void;\n  warn(message: string): PromiseLike<void> | void;\n  error(message: string): PromiseLike<void> | void;\n  success(message: string): PromiseLike<void> | void;\n}\n\nexport interface CommandHandlerDependencies {\n  getConfig(): ResolvedExtensionConfig;\n  execute: CommandExecutor;\n  notifications: Notifications;\n  output: OutputSink;\n  worktreeStore: {\n    getWorktrees(): ArashiWorktree[];\n    refresh(config: ResolvedExtensionConfig): Promise<WorktreeRefreshResult>;\n  };\n}\n\ninterface AddCommandJson {\n  success?: boolean;\n  repository?: {\n    name?: string;\n  };\n  error?: {\n    message?: string;\n  };\n}\n\nfunction isWorktree(value: unknown): value is ArashiWorktree {\n  return Boolean(\n    value &&\n      typeof value === \"object\" &&\n      \"path\" in value &&\n      typeof (value as ArashiWorktree).path === \"string\",\n  );\n}\n\nasync function safeNotify(task: PromiseLike<void> | void): Promise<void> {\n  await Promise.resolve(task);\n}\n\nexport function createCommandHandlers(deps: CommandHandlerDependencies): HandlerMap {\n  const executeWithLogging = async (\n    command: string,\n    args: string[],\n    options: { enforceJson?: boolean } = {},\n  ): Promise<CommandResult> => {\n    const config = deps.getConfig();\n    const invocation = createCommandInvocation({\n      binaryPath: config.binaryPath,\n      command,\n      args,\n      cwd: config.workspaceRoot,\n      timeoutMs: config.commandTimeoutMs,\n      enforceJson: options.enforceJson,\n    });\n    logCommandInvocation(deps.output, invocation);\n    const result = await deps.execute(invocation);\n    logCommandResult(deps.output, result);\n    return result;\n  };\n\n  const handleFailure = async (action: string, result: CommandResult): Promise<void> => {\n    if (result.ok) {\n      return;\n    }\n\n    const normalized = normalizeCommandFailure(result as CommandFailure);\n    await safeNotify(deps.notifications.error(`${action} failed: ${normalized.message}`));\n    deps.output.show?.(true);\n  };\n\n  const refreshPanelState = async (): Promise<void> => {\n    const refreshResult = await deps.worktreeStore.refresh(deps.getConfig());\n    if (!refreshResult.ok && refreshResult.state.banner) {\n      await safeNotify(deps.notifications.warn(refreshResult.state.banner.message));\n    }\n  };\n\n  const getSelectedWorktree = async (\n    inputCandidate: unknown,\n    selectionTitle: string,\n  ): Promise<ArashiWorktree | undefined> => {\n    if (isWorktree(inputCandidate)) {\n      return inputCandidate;\n    }\n\n    let worktrees = deps.worktreeStore.getWorktrees();\n    if (worktrees.length === 0) {\n      await deps.worktreeStore.refresh(deps.getConfig());\n      worktrees = deps.worktreeStore.getWorktrees();\n    }\n\n    if (worktrees.length === 0) {\n      await safeNotify(\n        deps.notifications.warn(\"No worktrees available. Create or add a repository first.\"),\n      );\n      return undefined;\n    }\n\n    const choice = await deps.notifications.pick(\n      worktrees.map((worktree) => ({\n        label: `${worktree.repo} · ${worktree.branch ?? \"detached\"}`,\n        description: worktree.status,\n        detail: worktree.path,\n        value: worktree,\n      })),\n      {\n        title: selectionTitle,\n        placeHolder: \"Select a worktree\",\n      },\n    );\n\n    if (!choice) {\n      await safeNotify(deps.notifications.info(\"Command cancelled.\"));\n      return undefined;\n    }\n\n    return choice.value;\n  };\n\n  const runAddFlow = async (refreshAfterSuccess: boolean): Promise<void> => {\n    const gitUrlRaw = await deps.notifications.input({\n      title: \"Arashi Add\",\n      prompt: \"Git repository URL\",\n      placeHolder: \"https://github.com/owner/repo.git\",\n    });\n    const gitUrl = resolveRequiredPromptValue(gitUrlRaw);\n    if (gitUrl.cancelled || !gitUrl.value) {\n      await safeNotify(deps.notifications.info(\"Add repository cancelled.\"));\n      return;\n    }\n\n    const result = await executeWithLogging(\"add\", buildAddArgs({ gitUrl: gitUrl.value }), {\n      enforceJson: true,\n    });\n\n    if (!result.ok) {\n      await handleFailure(\"Add repository\", result);\n      return;\n    }\n\n    const parsed = parseJsonOutput<AddCommandJson>(result.stdout);\n    if (!parsed.ok) {\n      logDiagnostic(deps.output, \"[json-parse-error] add\", parsed.rawOutput);\n      await safeNotify(\n        deps.notifications.error(\n          \"Add repository succeeded but returned unreadable JSON output. Check the Arashi output channel for diagnostics.\",\n        ),\n      );\n      deps.output.show?.(true);\n      return;\n    }\n\n    if (parsed.data.success === false) {\n      await safeNotify(\n        deps.notifications.error(\n          `Add repository failed: ${parsed.data.error?.message ?? \"unknown error\"}`,\n        ),\n      );\n      return;\n    }\n\n    await safeNotify(\n      deps.notifications.success(\n        `Added repository${parsed.data.repository?.name ? ` ${parsed.data.repository.name}` : \"\"}.`,\n      ),\n    );\n\n    if (refreshAfterSuccess) {\n      await refreshPanelState();\n    }\n  };\n\n  return {\n    [COMMAND_IDS.init]: async () => {\n      const reposDir = await deps.notifications.input({\n        title: \"Arashi Init\",\n        prompt: \"Repositories directory\",\n        value: \"./repos\",\n      });\n\n      if (reposDir === undefined) {\n        await safeNotify(deps.notifications.info(\"Init cancelled.\"));\n        return;\n      }\n\n      const discoverChoice = await deps.notifications.pick(\n        [\n          { label: \"Discover repositories now\", value: false },\n          { label: \"Skip discovery (use --no-discover)\", value: true },\n        ],\n        {\n          title: \"Arashi Init\",\n          placeHolder: \"Choose discovery behavior\",\n        },\n      );\n\n      if (!discoverChoice) {\n        await safeNotify(deps.notifications.info(\"Init cancelled.\"));\n        return;\n      }\n\n      const result = await executeWithLogging(\n        \"init\",\n        buildInitArgs({\n          reposDir,\n          skipDiscovery: discoverChoice.value,\n        }),\n      );\n\n      if (!result.ok) {\n        await handleFailure(\"Init workspace\", result);\n        return;\n      }\n\n      await safeNotify(deps.notifications.success(\"Arashi workspace initialized.\"));\n      await refreshPanelState();\n    },\n\n    [COMMAND_IDS.add]: async () => {\n      await runAddFlow(true);\n    },\n\n    [COMMAND_IDS.create]: async () => {\n      const branchRaw = await deps.notifications.input({\n        title: \"Arashi Create\",\n        prompt: \"Branch name\",\n        placeHolder: \"feature/my-change\",\n      });\n      const branch = resolveRequiredPromptValue(branchRaw);\n      if (branch.cancelled || !branch.value) {\n        await safeNotify(deps.notifications.info(\"Create worktree cancelled.\"));\n        return;\n      }\n\n      const result = await executeWithLogging(\"create\", buildCreateArgs(branch.value));\n      if (!result.ok) {\n        await handleFailure(\"Create worktree\", result);\n        return;\n      }\n\n      await safeNotify(deps.notifications.success(\"Worktree created.\"));\n      await refreshPanelState();\n    },\n\n    [COMMAND_IDS.switch]: async () => {\n      const selected = await getSelectedWorktree(undefined, \"Arashi Switch\");\n      if (!selected) {\n        return;\n      }\n\n      const result = await executeWithLogging(\"switch\", buildSwitchArgs(selected.path));\n      if (!result.ok) {\n        await handleFailure(\"Switch worktree\", result);\n        return;\n      }\n\n      await safeNotify(deps.notifications.success(\"Switched worktree.\"));\n      await refreshPanelState();\n    },\n\n    [COMMAND_IDS.remove]: async () => {\n      const selected = await getSelectedWorktree(undefined, \"Arashi Remove\");\n      if (!selected) {\n        return;\n      }\n\n      const confirmed = await deps.notifications.confirm({\n        title: \"Confirm worktree removal\",\n        message: `Remove worktree ${selected.path}?`,\n        detail: \"This action is destructive.\",\n      });\n\n      if (!confirmed) {\n        await safeNotify(deps.notifications.info(\"Remove worktree cancelled.\"));\n        return;\n      }\n\n      const result = await executeWithLogging(\n        \"remove\",\n        buildRemoveArgs({ target: selected.path, pathMode: true }),\n      );\n      if (!result.ok) {\n        await handleFailure(\"Remove worktree\", result);\n        return;\n      }\n\n      await safeNotify(deps.notifications.success(\"Worktree removed.\"));\n      await refreshPanelState();\n    },\n\n    [COMMAND_IDS.panelRefresh]: async () => {\n      await refreshPanelState();\n      await safeNotify(deps.notifications.success(\"Worktree panel refreshed.\"));\n    },\n\n    [COMMAND_IDS.panelSwitch]: async (worktree: unknown) => {\n      const selected = await getSelectedWorktree(worktree, \"Switch Worktree\");\n      if (!selected) {\n        return;\n      }\n\n      const result = await executeWithLogging(\"switch\", buildSwitchArgs(selected.path));\n      if (!result.ok) {\n        await handleFailure(\"Switch worktree\", result);\n        return;\n      }\n\n      await safeNotify(deps.notifications.success(`Switched to ${selected.repo}.`));\n      await refreshPanelState();\n    },\n\n    [COMMAND_IDS.panelRemove]: async (worktree: unknown) => {\n      const selected = await getSelectedWorktree(worktree, \"Remove Worktree\");\n      if (!selected) {\n        return;\n      }\n\n      const confirmed = await deps.notifications.confirm({\n        title: \"Confirm worktree removal\",\n        message: `Remove ${selected.path}?`,\n        detail: \"This action permanently removes the selected worktree.\",\n      });\n\n      if (!confirmed) {\n        await safeNotify(deps.notifications.info(\"Remove worktree cancelled.\"));\n        return;\n      }\n\n      const result = await executeWithLogging(\n        \"remove\",\n        buildRemoveArgs({ target: selected.path, pathMode: true }),\n      );\n      if (!result.ok) {\n        await handleFailure(\"Remove worktree\", result);\n        return;\n      }\n\n      await safeNotify(deps.notifications.success(`Removed ${selected.repo}.`));\n      await refreshPanelState();\n    },\n\n    [COMMAND_IDS.panelAddRepo]: async () => {\n      await runAddFlow(true);\n    },\n  };\n}\n",
    "export interface DisposableLike {\n  dispose(): unknown;\n}\n\nexport interface CommandRegistrar {\n  registerCommand(commandId: string, handler: (...args: unknown[]) => unknown): DisposableLike;\n}\n\nexport type HandlerMap = Record<string, (...args: unknown[]) => unknown>;\n\nexport function registerCommandHandlers(\n  registrar: CommandRegistrar,\n  handlers: HandlerMap,\n): DisposableLike[] {\n  return Object.entries(handlers).map(([commandId, handler]) =>\n    registrar.registerCommand(commandId, handler),\n  );\n}\n",
    "import { existsSync } from \"node:fs\";\nimport { isAbsolute, join, resolve } from \"node:path\";\nimport { normalizeCommandFailure, type CommandExecutor, type CommandFailure } from \"./cli/runner\";\n\nexport interface WorkspaceFolderLike {\n  uri: {\n    fsPath: string;\n  };\n}\n\nexport interface SettingsReader {\n  get<T>(key: string, defaultValue: T): T;\n}\n\nexport interface ResolvedExtensionConfig {\n  binaryPath: string;\n  workspaceRoot: string;\n  commandTimeoutMs: number;\n}\n\nexport interface StartupValidationResult {\n  ok: boolean;\n  error?: string;\n  warnings: string[];\n}\n\nexport function resolveExtensionConfig(\n  settings: SettingsReader,\n  workspaceFolders: readonly WorkspaceFolderLike[] | undefined,\n): ResolvedExtensionConfig {\n  const binaryPath = settings.get<string>(\"binaryPath\", \"arashi\").trim() || \"arashi\";\n  const timeoutRaw = settings.get<number>(\"commandTimeoutMs\", 120000);\n  const commandTimeoutMs = Number.isFinite(timeoutRaw) ? Math.max(1000, timeoutRaw) : 120000;\n  const configuredWorkspaceRoot = settings.get<string>(\"workspaceRoot\", \"\").trim();\n  const fallbackRoot = workspaceFolders?.[0]?.uri.fsPath ?? process.cwd();\n\n  const workspaceRoot = configuredWorkspaceRoot\n    ? isAbsolute(configuredWorkspaceRoot)\n      ? configuredWorkspaceRoot\n      : resolve(fallbackRoot, configuredWorkspaceRoot)\n    : fallbackRoot;\n\n  return {\n    binaryPath,\n    workspaceRoot,\n    commandTimeoutMs,\n  };\n}\n\nexport async function validateStartup(\n  config: ResolvedExtensionConfig,\n  execute: CommandExecutor,\n): Promise<StartupValidationResult> {\n  const versionCheck = await execute({\n    binaryPath: config.binaryPath,\n    command: \"--version\",\n    args: [],\n    cwd: config.workspaceRoot,\n    timeoutMs: config.commandTimeoutMs,\n  });\n\n  if (!versionCheck.ok) {\n    const normalized = normalizeCommandFailure(versionCheck as CommandFailure);\n    return {\n      ok: false,\n      error: `${normalized.title}: ${normalized.message}`,\n      warnings: [],\n    };\n  }\n\n  const warnings: string[] = [];\n  const configPath = join(config.workspaceRoot, \".arashi\", \"config.json\");\n  if (!existsSync(configPath)) {\n    warnings.push(\n      `No Arashi workspace config found at ${configPath}. Run \\\"Arashi: Init Workspace\\\" if this workspace is not initialized yet.`,\n    );\n  }\n\n  return {\n    ok: true,\n    warnings,\n  };\n}\n",
    "import * as vscode from \"vscode\";\nimport { COMMAND_IDS } from \"../constants\";\nimport type { ResolvedExtensionConfig } from \"../config\";\nimport { WorktreeStore } from \"./store\";\nimport type { ArashiWorktree } from \"./types\";\n\nclass WorktreeItem extends vscode.TreeItem {\n  constructor(worktree: ArashiWorktree) {\n    const branch = worktree.branch ?? \"detached\";\n    super(`${worktree.repo} · ${branch}`, vscode.TreeItemCollapsibleState.None);\n    this.contextValue = \"arashi.worktree\";\n    this.description = `${worktree.status}`;\n    this.tooltip = `${worktree.path}\\nRepo: ${worktree.repo}\\nBranch: ${branch}`;\n    this.iconPath = new vscode.ThemeIcon(\n      worktree.hasChanges ? \"source-control\" : \"pass\",\n      new vscode.ThemeColor(worktree.hasChanges ? \"charts.red\" : \"charts.green\"),\n    );\n    this.command = {\n      command: COMMAND_IDS.panelSwitch,\n      title: \"Switch Worktree\",\n      arguments: [worktree],\n    };\n  }\n}\n\nclass PlaceholderItem extends vscode.TreeItem {\n  constructor(message: string, kind: \"empty\" | \"warning\" | \"error\") {\n    super(message, vscode.TreeItemCollapsibleState.None);\n    this.contextValue = `arashi.placeholder.${kind}`;\n    if (kind === \"error\") {\n      this.iconPath = new vscode.ThemeIcon(\"error\");\n    } else if (kind === \"warning\") {\n      this.iconPath = new vscode.ThemeIcon(\"warning\");\n    } else {\n      this.iconPath = new vscode.ThemeIcon(\"info\");\n    }\n  }\n}\n\nexport class WorktreeTreeDataProvider\n  implements vscode.TreeDataProvider<WorktreeItem | PlaceholderItem>\n{\n  private readonly onDidChangeTreeDataEmitter =\n    new vscode.EventEmitter<WorktreeItem | PlaceholderItem | undefined>();\n\n  readonly onDidChangeTreeData = this.onDidChangeTreeDataEmitter.event;\n\n  constructor(private readonly store: WorktreeStore) {}\n\n  async refresh(config: ResolvedExtensionConfig): Promise<void> {\n    await this.store.refresh(config);\n    this.onDidChangeTreeDataEmitter.fire(undefined);\n  }\n\n  getTreeItem(element: WorktreeItem | PlaceholderItem): vscode.TreeItem {\n    return element;\n  }\n\n  getChildren(): vscode.ProviderResult<(WorktreeItem | PlaceholderItem)[]> {\n    const state = this.store.getState();\n    if (state.worktrees.length > 0) {\n      return state.worktrees.map((worktree) => new WorktreeItem(worktree));\n    }\n\n    if (state.banner) {\n      return [new PlaceholderItem(state.banner.message, state.banner.kind)];\n    }\n\n    return [\n      new PlaceholderItem(\n        \"No worktrees loaded yet. Run Refresh Arashi Worktrees.\",\n        \"empty\",\n      ),\n    ];\n  }\n}\n",
    "import { basename, dirname } from \"node:path\";\nimport {\n  normalizeCommandFailure,\n  parseJsonOutput,\n  type CommandExecutor,\n  type CommandFailure,\n} from \"../cli/runner\";\nimport type { ResolvedExtensionConfig } from \"../config\";\nimport type { ArashiWorktree, WorktreeListResult } from \"./types\";\n\ninterface RawWorktreeItem {\n  path?: unknown;\n  branch?: unknown;\n  hasChanges?: unknown;\n  isMain?: unknown;\n  locked?: unknown;\n}\n\nfunction inferRepositoryName(worktreePath: string): string {\n  const segments = worktreePath.split(/[\\\\/]/).filter(Boolean);\n  const reposIndex = segments.lastIndexOf(\"repos\");\n  if (reposIndex >= 0 && reposIndex + 1 < segments.length) {\n    return segments[reposIndex + 1];\n  }\n  return basename(dirname(worktreePath)) || basename(worktreePath) || worktreePath;\n}\n\nfunction isRawWorktreeItem(value: unknown): value is RawWorktreeItem {\n  if (!value || typeof value !== \"object\") {\n    return false;\n  }\n\n  const item = value as RawWorktreeItem;\n  return typeof item.path === \"string\";\n}\n\nfunction toWorktreeModel(raw: RawWorktreeItem): ArashiWorktree {\n  const path = raw.path as string;\n  const branch = typeof raw.branch === \"string\" ? raw.branch : null;\n  const hasChanges = Boolean(raw.hasChanges);\n  return {\n    repo: inferRepositoryName(path),\n    branch,\n    path,\n    hasChanges,\n    status: hasChanges ? \"modified\" : \"clean\",\n    isMain: Boolean(raw.isMain),\n    locked: Boolean(raw.locked),\n  };\n}\n\nexport class WorktreeService {\n  constructor(private readonly execute: CommandExecutor) {}\n\n  async listWorktrees(config: ResolvedExtensionConfig): Promise<WorktreeListResult> {\n    const commandResult = await this.execute({\n      binaryPath: config.binaryPath,\n      command: \"list\",\n      args: [],\n      cwd: config.workspaceRoot,\n      timeoutMs: config.commandTimeoutMs,\n      enforceJson: true,\n    });\n\n    if (!commandResult.ok) {\n      const normalized = normalizeCommandFailure(commandResult as CommandFailure);\n      const lowerCombined = `${commandResult.stderr}\\n${commandResult.stdout}`.toLowerCase();\n      const kind =\n        lowerCombined.includes(\"configuration\") || lowerCombined.includes(\"arashi init\")\n          ? \"invalid_workspace\"\n          : \"command_failure\";\n\n      return {\n        ok: false,\n        kind,\n        message: `${normalized.title}: ${normalized.message}`,\n        rawOutput: `${commandResult.stdout}\\n${commandResult.stderr}`,\n      };\n    }\n\n    const parsed = parseJsonOutput<unknown>(commandResult.stdout);\n    if (!parsed.ok) {\n      return {\n        ok: false,\n        kind: \"parse_error\",\n        message:\n          \"Arashi returned invalid JSON while refreshing the worktree panel. Check the Arashi output channel for diagnostics.\",\n        rawOutput: parsed.rawOutput,\n      };\n    }\n\n    if (!Array.isArray(parsed.data)) {\n      return {\n        ok: false,\n        kind: \"parse_error\",\n        message:\n          \"Arashi returned an unexpected JSON shape while refreshing the worktree panel.\",\n        rawOutput: commandResult.stdout,\n      };\n    }\n\n    const worktrees = parsed.data\n      .filter((entry) => isRawWorktreeItem(entry))\n      .map((entry) => toWorktreeModel(entry));\n\n    return {\n      ok: true,\n      worktrees,\n    };\n  }\n}\n",
    "import type { ResolvedExtensionConfig } from \"../config\";\nimport type {\n  WorktreeListResult,\n  WorktreeRefreshResult,\n  WorktreeStoreState,\n  ArashiWorktree,\n} from \"./types\";\n\nexport interface WorktreeServiceLike {\n  listWorktrees(config: ResolvedExtensionConfig): Promise<WorktreeListResult>;\n}\n\nexport class WorktreeStore {\n  private worktrees: ArashiWorktree[] = [];\n  private lastKnownWorktrees: ArashiWorktree[] = [];\n  private banner: WorktreeStoreState[\"banner\"];\n\n  constructor(private readonly service: WorktreeServiceLike) {}\n\n  getWorktrees(): ArashiWorktree[] {\n    return [...this.worktrees];\n  }\n\n  getState(): WorktreeStoreState {\n    return {\n      worktrees: [...this.worktrees],\n      banner: this.banner,\n    };\n  }\n\n  async refresh(config: ResolvedExtensionConfig): Promise<WorktreeRefreshResult> {\n    const result = await this.service.listWorktrees(config);\n    if (result.ok) {\n      this.worktrees = result.worktrees;\n      this.lastKnownWorktrees = [...result.worktrees];\n      this.banner =\n        result.worktrees.length === 0\n          ? {\n              kind: \"empty\",\n              message: \"No worktrees were returned. Use Arashi: Add Repository or Arashi: Create Worktree.\",\n            }\n          : undefined;\n\n      return {\n        ok: true,\n        state: this.getState(),\n      };\n    }\n\n    if (result.kind === \"parse_error\" && this.lastKnownWorktrees.length > 0) {\n      this.worktrees = [...this.lastKnownWorktrees];\n      this.banner = {\n        kind: \"warning\",\n        message:\n          \"Could not parse the latest panel response. Showing last known worktrees and logging diagnostics to output.\",\n      };\n\n      return {\n        ok: false,\n        state: this.getState(),\n        reason: result.kind,\n        preservedLastKnown: true,\n      };\n    }\n\n    this.worktrees = [];\n    this.banner = {\n      kind: \"error\",\n      message:\n        result.kind === \"invalid_workspace\"\n          ? \"Workspace is not initialized for Arashi. Run Arashi: Init Workspace and refresh.\"\n          : result.message,\n    };\n\n    return {\n      ok: false,\n      state: this.getState(),\n      reason: result.kind,\n      preservedLastKnown: false,\n    };\n  }\n}\n"
  ],
  "mappings": "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",
  "debugId": "1E982C136C4E36E364756E2164756E21",
  "names": []
}